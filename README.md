<div align="center">
<h1>CDN-Refresh</h1>

[![Auth](https://img.shields.io/badge/Auther--eryajf-ff69b4.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZElEQVR4nO2ZX2iPURjHP/7/aZN/E21DaZvtwoVYyQUuGXLB/LtkLRcUhSJMSVwg3KCUJPJvLmRZtMQFLvwZhUJk/saGLWaYV6eet06n9/3tfd+9531/sW89td9z3vOc8z3nPOc8zzPoQQ+yAnlAA/AbcCzKR2ClTSL7LRNwNPkB5Noi0pggEQeYbovIh4SJLLBBojfwK2EiVTaIjEyYhANsskGkNAUi+2wQmZECkRM2iCxMgUi9DSKrxPhS7GOZjHXPhvGtYlwdMduYKWO9tmH8oBgvxj6KZawOoFfcxk+L8RzsI0fzkyFhO28EvqXg0FHlK1DtReRzFkzOCSmfvIhczIKJOSHlmheRgcAK4E4WTNDpQp4Ba4P4zxRgO3ArgSQqqDQDx4AKCWBDYwSwRDP4JWECG4CpQB9iwCTNsBsJl8srvxk4CtQBN4Enkre0GKQ7RaekCXgAXAcuAHuB1bLaZcAgrd+2uK78ai0PsfLSBshG70u9IDJmyUq2AYvlbD5N4Dg9l/EnArdFV9sdIlfEiLrNzFAlqPwE2kP2OaKNlyfH8Q9QFJVIixgepukqIuTdRRI3Be1TaczjnOgXRSXyTgwUarrBIVb4htbvcMA+nR7+UCdtc6MSOS8G9hj6+gjlnHEBd+WuMVaZ9FMyJiqRydrgB4B80VcFmFBtxALfFm3nlwPv48rfK7WoWDkc8jgpYq0eE/kOnAGG+4RBh3z6qTGOyzfIJeG2nQL6EQMmaEaTgtNdv+jKcFJwbI33XxEpAM76+IArrXIbFqVFpE0MuzeXF4nmEI9ecwZbhVo6GzsaxLhnniw74YQUVdDwwjppv2yzaPbIJ7HJdJz8RIX5JgYAL6V9vg0ifYEXMsAaj3Z3cpfkmPmhQAs5vHxgh+gbbdS0XMyTQdrkbdHhTiwTCdMHTCLl8hCqeGsalnFSO2JDNb3XxOZINqhkttFmfq8W4I1PbGcFuVr21qCloe7EarRvmzT9K01fYxAZJVmgA1yNKxwh4NF4q0Wr+UZs5JIxndskoVLoEskI1e/HRu6TCEpklR1ZebPcqk/YT9cu1UL190NgNCmhQGpfTjelLo2dMNEf2BkylXVF7eL6qAU3WyiVvCHIv7A7pBY2nizGWGC3FOr0XeoQZ96VIcbqAf8K/gLNGaTJ3vwbFgAAAABJRU5ErkJggg==)](https://github.com/eryajf)
[![cnb](https://img.shields.io/badge/CNB-eryajf-F76945?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAppJREFUOE9tk01rE1EUhs+5H5lJ0iQT3FRX2Yi4avoLkv4CWxBcNt11oZiuFKGmXQhFN6kuRESSgitXKf6A5g+I6cqFLiKCiptOkraZ5H4cuZOkH9oLw+UO8z7nvGfei3DFohoEQLAKCGWyGJCSbQZsD3ei7r+f45WATV6xmjdISyAlYLaDliveux+ti5ozwLAaFPhIlk6G6f18sxuO7l9bBiWbVoncDGCMWMl++PI/gJ7IohkmD0zkBxT5oRn5LTpN7ULqBByEtFywWvRyHz8Fx3dvN0UwuMPyR0uJFycddH7tKPHZRn7BjnwwkQcUud0HO/K7oOENcTYPRCEAFERmsCpyfZDZfpdnBosOUKGx13BC60QTIdjpmSzrEWDR+UagjsgMciLXAwfhc4MNpKfQtOPE6mVh0gEOaeTXtWXXEdADpJAR/GaZ/rrM9Us82wORPd5zHbRp7JVcyxR5PRP5LTPy6uo0HXIlG9awMgLuEUABkBYI7VLyxs+yyPW3+Nyg4zqoG+UV7TDRlMBbWA/D43u3qlbLGmgRWM2BjFxjQjWQGQBuu4bYYvrm14JMnQSXcjBcny9A5DXIiDJp9/8FWCXAAOaFUEfILTgIcttOvf+2NJnLdI0fBFUyskZKBGTEJEAmBuzr9LCSUDwGQAwwgMzu+m9/VWOAeZSsk+YP48C4li/sRok1nlBd5PogBjgxNw70PfHyqBADyEVXicasZXCVpxYiLfO+HxVZDHCVYwvu2ebPT7fOLNAm65AWLnEAzvsEcOi9/lPU1aACXDfOLdhD9kxNszGdweQGYstqXgItJwDFNxKvwrp57G8h0zVwldHuA0IFt8El83yIs2FSDcpgxDJpUUTwK7gTduN3AK5iG7ehc/E2/gUPD3q3eY4awwAAAABJRU5ErkJggg==)](https://cnb.cool/u/eryajf)
[![Eryajf HitCount](https://views.whatilearened.today/views/github/eryajf/eryajf.svg)](https://github.com/eryajf)
[![Eryajf Blog](https://img.shields.io/badge/%E5%8D%9A%E5%AE%A2-%E4%BA%8C%E4%B8%AB%E8%AE%B2%E6%A2%B5-d7b1bf?logo=Blogger)](https://wiki.eryajf.net)
[![Eryajf WeChat](https://img.shields.io/badge/%E5%85%AC%E4%BC%97%E5%8F%B7-%E8%BF%90%E7%BB%B4%E8%89%BA%E6%9C%AF-71f9fe?logo=WeChat)](https://y.gtimg.cn/music/photo_new/T053M000003iCCnF30PTi3.jpg)
[![Eryajf Awesome Stars](https://img.shields.io/badge/Awesome-MyStarList-c780fa?logo=Awesome-Lists)](https://github.com/eryajf/awesome-stars-eryajf#readme)

<p> ğŸ†• æ”¯æŒå¤šä¸ªäº‘å‚å•†CDNç¼“å­˜åˆ·æ–°æ’ä»¶ï¼Œåº”ç”¨äºCNBçš„äº‘åŸç”Ÿæ„å»ºåœºæ™¯ </p>

<img src="https://cnb.cool/66666/resource/-/git/raw/main/img/hengtiao.gif" width="100%" height="3">
</div><br>

## â„¹ï¸ é¡¹ç›®ç®€ä»‹

è®¿é—®ï¼š[æ’ä»¶å¸‚åœº](https://docs.cnb.cool/zh/plugin/#public/open-source/cdn-refresh/cdn-refresh)

é¡¹ç›®æ”¯æŒå¤šä¸ªäº‘å‚å•† CDN ç¼“å­˜åˆ·æ–°ï¼Œæ”¯æŒåˆ·æ–°ç›®å½•å’Œ URL ç¼“å­˜ï¼Œç”¨äºåœ¨ CNB äº‘åŸç”Ÿæ„å»ºä¸­ï¼Œåˆ·æ–° CDN ç¼“å­˜ã€‚

æ”¯æŒï¼š

- [x] [å¤šå‰äº‘ CDN](https://www.dogecloud.com/)
- [x] [è…¾è®¯äº‘ CDN](https://cloud.tencent.com/product/cdn)
- [x] [è…¾è®¯äº‘ EO](https://cloud.tencent.com/product/teo)
- [x] [é˜¿é‡Œäº‘ CDN](https://www.aliyun.com/product/cdn)
- [x] [é˜¿é‡Œäº‘ DCDN](https://www.aliyun.com/product/cdn)
- [x] [é˜¿é‡Œäº‘ ESA](https://www.aliyun.com/product/esa)
- [x] [ä¸ƒç‰›äº‘ CDN](https://www.qiniu.com/products/qcdn)

å¦‚æœæ‚¨éœ€è¦æ”¯æŒå…¶ä»–äº‘å‚å•†ï¼Œæ¬¢è¿æäº¤ PRï¼Œæˆ–è€…æäº¤Issueï¼Œæˆ‘ä¼šå°½å¿«æ”¯æŒã€‚

## ğŸ—£ï¸ ç”¨æ³•ä»‹ç»

åˆ·æ–°CDN ç›®å½•ç¼“å­˜ï¼š

```yaml
main:
  push:
    - imports:
        - https://cnb.cool/xxx/env/-/blob/main/env.yaml
      stages:
        - name: test dcr path
          image: docker.cnb.cool/znb/cdn-refresh
          settings:
            kind: "tencenteo"
            ak: "${AK}"
            sk: "${SK}"
            rtype: "path"
            domain: "opsre.top"
            urls:
              - "https://jenkinsguide.opsre.top/"
```

éœ€è¦å¼•å…¥å¯¹åº”CDNå‚å•†çš„ç§˜é’¥ï¼Œå…·ä½“å¼•å…¥çš„è¯­æ³•ï¼Œè¯¦è§æ–‡æ¡£ï¼š[ç¯å¢ƒå˜é‡](https://docs.cnb.cool/zh/build/env.html#dao-ru-huan-jing-bian-liang)

åˆ·æ–°CDN URLç¼“å­˜ï¼š

```yaml
main:
  push:
    - imports:
        - https://cnb.cool/xxx/env/-/blob/main/env.yaml
      stages:
        - name: test dcr url
          image: docker.cnb.cool/znb/cdn-refresh
          settings:
            kind: "tencenteo"
            ak: "${AK"
            sk: "${SK}"
            rtype: "url"
            domain: "opsre.top"
            urls:
              - "https://jenkinsguide.opsre.top/pages/385f87.html"
              - "https://jenkinsguide.opsre.top/pages/ce3667.html"
```

å¦‚æœä½ é…ç½®æµæ°´çº¿ä¹‹åï¼Œæ‰§è¡Œå¤±è´¥ï¼Œå¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼Œè°ƒè¯•ç›¸å…³å‚æ•°ï¼š

```
docker run -it --rm -e PLUGIN_AK="xxxxxxx" -e PLUGIN_SK="xxxxxxx" -e PLUGIN_KIND="doge" -e PLUGIN_DOMAIN="opsre.top" -e PLUGIN_RTYPE="path" -e PLUGIN_URLS="https://jenkinsguide.opsre.top/" docker.cnb.cool/znb/cdn-refresh:latest
```

## ğŸ“‘ å‚æ•°è¯´æ˜

| å‚æ•° | **å¿…é¡»**/**å¯é€‰** | ç±»å‹ |          è¯´æ˜          |
| :--: | :---------------: | :--------------------: | :--------------------- |
|  ak  |     **å¿…é¡»**      |     string     | Access Key |
|  sk  |     **å¿…é¡»**      |    string | Secret Key |
|  kind  |     **å¿…é¡»**      |    string | cdnç±»åˆ«,æ”¯æŒ `doge` `tencenteo` `tencencdn` `alicdn` `alidcdn` `aliesa` `qiniucdn` |
|  domain  |     **å¿…é¡»**      |    string | æŒ‡å®šè¦æ“ä½œçš„åŸŸåï¼Œå½“eoåœºæ™¯éœ€è¦æŒ‡å®š |
| rtype |     **å¿…é¡»**      |    string |        åˆ·æ–°ç±»å‹ï¼Œæ¥å— `path` æˆ– `url`  |
| urls  |     **å¿…é¡»**      |     array |        åˆ·æ–°URLï¼Œä¸€ä¸ªæˆ–å¤šä¸ª          |


## ğŸ“‡ é¡¹ç›®åœ°å€

å¯é€‰æ‹©ä½ ç†Ÿæ‚‰çš„å¹³å°æµè§ˆæºç ï¼š

|   æœåŠ¡å•†   |                   åœ°å€                   |
| :------: | :------------------------------------------: |
|  `CNB`  | <https://cnb.cool/znb/cdn-refresh>  |
| `GitHub` | <https://github.com/eryajf/cdn-refresh> |

## ğŸ’° æèµ æ‰“èµ

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥è¯·ä½œè€…å–æ¯å’–å•¡ â˜•ï¸

| æ”¯ä»˜å®|å¾®ä¿¡|
|:--------: |:--------: |
|![](https://cnb.cool/66666/resource/-/git/raw/main/img/zhifubao.png)| ![](https://cnb.cool/66666/resource/-/git/raw/main/img/wechat.png) |